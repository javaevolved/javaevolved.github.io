---
id: 51
slug: "executor-try-with-resources"
title: "ExecutorService auto-close"
category: "concurrency"
difficulty: "beginner"
jdkVersion: "19"
oldLabel: "Java 8"
modernLabel: "Java 19+"
oldApproach: "Manual Shutdown"
modernApproach: "try-with-resources"
oldCode: |-
  ExecutorService exec =
      Executors.newCachedThreadPool();
  try {
      exec.submit(task);
  } finally {
      exec.shutdown();
      exec.awaitTermination(
          1, TimeUnit.MINUTES);
  }
modernCode: |-
  try (var exec =
          Executors.newCachedThreadPool()) {
      exec.submit(task);
  }
  // auto shutdown + await on close
summary: "Use try-with-resources for automatic executor shutdown."
explanation: "Since Java 19, ExecutorService implements AutoCloseable. The close()\
  \ method calls shutdown() and waits for tasks to complete. No more manual try/finally\
  \ shutdown patterns."
whyModernWins:
- icon: "üßπ"
  title: "Auto cleanup"
  desc: "Shutdown happens automatically when the block exits."
- icon: "üõ°Ô∏è"
  title: "No leaks"
  desc: "Executor always shuts down, even if exceptions occur."
- icon: "üìñ"
  title: "Familiar pattern"
  desc: "Same try-with-resources used for files, connections, etc."
support:
  state: "available"
  description: "Widely available since JDK 19 (Sept 2022)"
prev: "concurrency/completablefuture-chaining"
next: "concurrency/thread-sleep-duration"
related:
- "concurrency/completablefuture-chaining"
- "concurrency/virtual-threads"
- "concurrency/thread-sleep-duration"
docs:
- title: "ExecutorService"
  href: "https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/concurrent/ExecutorService.html"
