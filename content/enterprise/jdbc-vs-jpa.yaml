---
id: 100
slug: "jdbc-vs-jpa"
title: "JDBC versus JPA"
category: "enterprise"
difficulty: "intermediate"
jdkVersion: "11"
oldLabel: "Java EE"
modernLabel: "Jakarta EE 8+"
oldApproach: "JDBC"
modernApproach: "JPA EntityManager"
oldCode: |-
  String sql = "SELECT * FROM users WHERE id = ?";
  try (Connection con = dataSource.getConnection();
       PreparedStatement ps =
               con.prepareStatement(sql)) {
      ps.setLong(1, id);
      ResultSet rs = ps.executeQuery();
      if (rs.next()) {
          User u = new User();
          u.setId(rs.getLong("id"));
          u.setName(rs.getString("name"));
      }
  }
modernCode: |-
  @PersistenceContext
  EntityManager em;

  public User findUser(Long id) {
      return em.find(User.class, id);
  }

  public List<User> findByName(String name) {
      return em.createQuery(
          "SELECT u FROM User u WHERE u.name = :name",
          User.class)
          .setParameter("name", name)
          .getResultList();
  }
summary: "Replace verbose JDBC boilerplate with JPA's object-relational mapping and\
  \ EntityManager."
explanation: "JPA (Jakarta Persistence API) maps Java objects to database rows, eliminating\
  \ manual ResultSet processing and SQL string concatenation. EntityManager provides\
  \ find(), persist(), and JPQL queries so you work with domain objects instead of\
  \ raw SQL, while the container manages connection pooling and transactions."
whyModernWins:
- icon: "üó∫Ô∏è"
  title: "Object mapping"
  desc: "Entities are plain annotated classes ‚Äî no manual ResultSet-to-object translation."
- icon: "üîí"
  title: "Type-safe queries"
  desc: "JPQL operates on entity types and fields rather than raw table and column\
    \ strings."
- icon: "‚ö°"
  title: "Built-in caching"
  desc: "First- and second-level caches reduce database round-trips automatically."
support:
  state: "available"
  description: "Widely available since Jakarta EE 8 / Java 11"
prev: "enterprise/ejb-vs-cdi"
next: "enterprise/jpa-vs-jakarta-data"
related:
- "enterprise/servlet-vs-jaxrs"
- "enterprise/ejb-vs-cdi"
- "io/try-with-resources-effectively-final"
docs:
- title: "Jakarta Persistence Specification"
  href: "https://jakarta.ee/specifications/persistence/"
- title: "Jakarta Persistence 3.1 API"
  href: "https://jakarta.ee/specifications/persistence/3.1/apidocs/"
