---
id: 14
slug: "pattern-matching-switch"
title: "Pattern matching in switch"
category: "language"
difficulty: "intermediate"
jdkVersion: "21"
oldLabel: "Java 8"
modernLabel: "Java 21+"
oldApproach: "if-else Chain"
modernApproach: "Type Patterns"
oldCode: |-
  String format(Object obj) {
      if (obj instanceof Integer i)
          return "int: " + i;
      else if (obj instanceof Double d)
          return "double: " + d;
      else if (obj instanceof String s)
          return "str: " + s;
      return "unknown";
  }
modernCode: |-
  String format(Object obj) {
      return switch (obj) {
          case Integer i -> "int: " + i;
          case Double d  -> "double: " + d;
          case String s  -> "str: " + s;
          default        -> "unknown";
      };
  }
summary: "Replace if-else instanceof chains with clean switch type patterns."
explanation: "Pattern matching in switch lets you match on types directly, combining\
  \ the type test, cast, and binding in one concise case label. The compiler checks\
  \ completeness."
whyModernWins:
- icon: "ğŸ“"
  title: "Structured dispatch"
  desc: "Switch makes the branching structure explicit and scannable."
- icon: "ğŸ¯"
  title: "Expression form"
  desc: "Returns a value directly â€” no mutable variable needed."
- icon: "âœ…"
  title: "Exhaustiveness"
  desc: "The compiler ensures all types are handled."
support:
  state: "available"
  description: "Widely available since JDK 21 LTS (Sept 2023)"
prev: "language/private-interface-methods"
next: "language/guarded-patterns"
related:
- "language/pattern-matching-instanceof"
- "language/unnamed-variables"
- "language/records-for-data-classes"
docs:
- title: "Pattern Matching for switch (JEP 441)"
  href: "https://openjdk.org/jeps/441"
