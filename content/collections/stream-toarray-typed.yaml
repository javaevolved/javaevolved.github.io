---
id: 27
slug: "stream-toarray-typed"
title: "Typed stream toArray"
category: "collections"
difficulty: "beginner"
jdkVersion: "8"
oldLabel: "Pre-Streams"
modernLabel: "Java 8+"
oldApproach: "Manual Array Copy"
modernApproach: "toArray(generator)"
oldCode: |-
  List<String> list = getNames();
  String[] arr = new String[list.size()];
  for (int i = 0; i < list.size(); i++) {
      arr[i] = list.get(i);
  }
modernCode: |-
  String[] arr = getNames().stream()
      .filter(n -> n.length() > 3)
      .toArray(String[]::new);
summary: "Convert streams to typed arrays with a method reference."
explanation: "The toArray(IntFunction) method creates a properly typed array from\
  \ a stream. The generator (String[]::new) tells the stream what type of array to\
  \ create."
whyModernWins:
- icon: "ğŸ¯"
  title: "Type-safe"
  desc: "No Object[] cast â€” the array type is correct."
- icon: "ğŸ”—"
  title: "Chainable"
  desc: "Works at the end of any stream pipeline."
- icon: "ğŸ“"
  title: "Concise"
  desc: "One expression replaces the manual loop."
support:
  state: "available"
  description: "Widely available since JDK 8 (March 2014)"
prev: "collections/collectors-teeing"
next: "collections/reverse-list-iteration"
related:
- "collections/collectors-teeing"
- "collections/map-entry-factory"
- "collections/immutable-set-creation"
docs:
- title: "Stream.toArray()"
  href: "https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/stream/Stream.html#toArray(java.util.function.IntFunction)"
